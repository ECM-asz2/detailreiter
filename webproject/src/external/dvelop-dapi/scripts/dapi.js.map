{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/dapi/scripts/getFirstAncestor.ts","webpack:///./src/dapi/scripts/redirectToShell.ts","webpack:///./src/dapi/scripts/observeLocation.ts","webpack:///./src/dapi/scripts/publishAndObserveTitle.ts","webpack:///./src/dapi/scripts/publishContextActions.ts","webpack:///./src/dapi/scripts/triggerReplaceStateIfAnchorClicked.ts","webpack:///./src/dapi/scripts/activateDAPIDownload.ts","webpack:///./src/dapi/scripts/activateDAPINavigation.ts","webpack:///./src/dapi/scripts/version.ts","webpack:///./src/dapi/scripts/DapiProxy.ts","webpack:///./src/dapi/scripts/ResourceEvent.ts","webpack:///./src/dapi/scripts/Dapi.ts","webpack:///./src/dapi/scripts/getRootResourceWindow.ts","webpack:///./src/dapi/scripts/bootstrap_dapi.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","getFirstAncestor","elem","predicate","parentElement","browserWindow","systemBaseUri","location","protocol","concat","host","href","encodeURIComponent","pathname","search","hash","win","dapi","addEventListener","publishLocation","titleElement","MutationObserver","mutations","forEach","mutation","target","textContent","trim","publishTitle","innerText","window","document","title","observe","childList","head","ctxActionLinks","querySelectorAll","contextActions","length","push","attributes","undefined","icon","setContextActions","node","evt","isAnchor","element","tagName","anchor","_getFirstAncestor","default","replaceUri","defaultPrevented","replaceState","isDapiAnchor","dapiAnchor","preventDefault","stopPropagation","Error","download","navigate","DapiProxy","_classCallCheck","this","_dapi","_isBypassEnabled","height","width","absoluteValues","openDialog","closeDialog","string","activateSingleResourceMode","eventName","callback","addResourceEventListener","closeResourceIfMainResource","deactivateSingleResourceMode","event","dispatchResourceEvent","isMainResource","state","isClosable","setClosable","setInterruptNavigationCallback","setResourceVisibilityChangedCallback","ResourceEvent","uri","_name","_uri","_ResourceEvent","_interopRequireDefault","_DapiProxy","Dapi","delegate","toAbsoluteUri","rootResourceId","isShell","arguments","ResourceEventClass","_shell","_parentDapi","dapiProxy","console","warn","_toAbsoluteUri","_rootResourceId","info","convertToContextActionsWithAbsoluteUri","setInterruptCloseCallback","absContextActions","Array","contextAction","callbackName","callbackArgs","closeMainResource","currentWindow","parent","shell","error","_getRootResourceWindow","_Dapi","_version","_activateDAPINavigation","_activateDAPIDownload","_triggerReplaceStateIfAnchorClicked","_publishContextActions","_publishAndObserveTitle","_observeLocation","_redirectToShell","rootResourceWindow","shellDelegate","dapiDelegate","addUsingResource","version","querySelector","anchorElement","createElement"],"mappings":"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","file":"dapi.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 14);\n","/**\r\n* Returns the first ancestor element of elem which satisfies the given predicate or null if no such ancestor element exists.\r\n* @param elem\r\n* @param predicate\r\n* @returns {}\r\n*/\r\nexport default function getFirstAncestor(elem, predicate) {\r\n    if (!elem.parentElement)\r\n        return null;\r\n    if (predicate(elem.parentElement))\r\n        return elem.parentElement;\r\n    return getFirstAncestor(elem.parentElement, predicate);\r\n}\r\n","/**\r\n * Redirects the browser to the shell in order to load the current page as a shell resource.\r\n * @param browserWindow\r\n */\r\nexport default function redirectToShell(browserWindow) {\r\n    const systemBaseUri = `${browserWindow.location.protocol}//${browserWindow.location.host}`;\r\n    browserWindow.location.href = systemBaseUri + \"/shell/#\" + encodeURIComponent(absolutePathOf(browserWindow.location));\r\n}\r\nfunction absolutePathOf(location) {\r\n    return location.pathname\r\n        + (location.search ? location.search : \"\")\r\n        + (location.hash ? location.hash : \"\");\r\n}\r\n","/// <reference path='Dapi.d.ts' />\r\nexport default function observeLocation(win, dapi) {\r\n    win.addEventListener(\"hashchange\", () => {\r\n        // according to https://developer.mozilla.org/de/docs/Web/API/WindowEventHandlers/onpopstate \r\n        // win.onpopstate should be triggered if the active entry changes between to entries for the same document. That is it should be triggered if the hash changes.\r\n        // Sadly this is only the case in Chrome and FF but not in IE.\r\n        dapi.publishLocation(win.location.href);\r\n    });\r\n}\r\n","/// <reference path='Dapi.d.ts' />\r\nexport default function publishAndObserveTitle(titleElement, dapi) {\r\n    if (titleElement) {\r\n        new MutationObserver(mutations => {\r\n            mutations.forEach(mutation => {\r\n                if (mutation.target.textContent && mutation.target.textContent.trim() !== '') {\r\n                    dapi.publishTitle(mutation.target.textContent.trim());\r\n                }\r\n                else if (titleElement.innerText && titleElement.innerText.trim() !== '') {\r\n                    dapi.publishTitle(titleElement.innerText.trim());\r\n                }\r\n                else {\r\n                    dapi.publishTitle(window.document.title.trim());\r\n                }\r\n            });\r\n        }).observe(titleElement, { childList: true });\r\n        if (titleElement.innerText && titleElement.innerText.trim() !== '') {\r\n            dapi.publishTitle(titleElement.innerText.trim());\r\n        }\r\n        else {\r\n            dapi.publishTitle(window.document.title.trim());\r\n        }\r\n    }\r\n}\r\n","/// <reference path='dapi.d.ts' />\r\n/**\r\n* Publishes the context actions contained in this head.\r\n* @param head\r\n* @param dapi\r\n* @returns {}\r\n*/\r\nexport default function publishContextActions(head, dapi) {\r\n    const ctxActionLinks = head.querySelectorAll(\"link[rel='ctxaction']\");\r\n    const contextActions = [];\r\n    for (let i = 0; i < ctxActionLinks.length; i++) {\r\n        contextActions.push({\r\n            href: ctxActionLinks[i].attributes[\"href\"] ? ctxActionLinks[i].attributes[\"href\"].value : undefined,\r\n            title: ctxActionLinks[i].attributes[\"title\"] ? ctxActionLinks[i].attributes[\"title\"].value : undefined,\r\n            icon: ctxActionLinks[i].attributes[\"data-icon\"] ? ctxActionLinks[i].attributes[\"data-icon\"].value : undefined\r\n        });\r\n    }\r\n    if (contextActions.length > 0)\r\n        dapi.setContextActions(contextActions);\r\n}\r\n","/// <reference path='Dapi.d.ts' />\r\nimport getFirstAncestor from './getFirstAncestor';\r\n/**\r\n * Triggers resplaceState if an anchor tag was clicked.\r\n * This applies for anchor tags with no target attribute or target attribute value is neither 'dapi_navigate' nor '_blank'.\r\n * @param node\r\n * @param dapi\r\n * @returns {}\r\n */\r\nexport default function triggerReplaceStateIfAnchorClicked(node, dapi) {\r\n    node.addEventListener(\"click\", (evt) => {\r\n        const isAnchor = (element) => (element.tagName === \"A\" && (element.attributes[\"target\"] == null ||\r\n            element.attributes[\"target\"] != null && (element.attributes[\"target\"].value !== \"dapi_navigate\" &&\r\n                element.attributes[\"target\"].value !== \"dapi_blank\" &&\r\n                element.attributes[\"target\"].value !== \"_blank\")));\r\n        const anchor = isAnchor(evt.target) ? evt.target\r\n            : getFirstAncestor(evt.target, (element) => {\r\n                return isAnchor(element);\r\n            });\r\n        if (anchor == null ||\r\n            anchor.attributes[\"href\"] == null)\r\n            return;\r\n        const replaceUri = anchor.attributes[\"href\"].value;\r\n        if (!evt.defaultPrevented) {\r\n            dapi.replaceState(replaceUri);\r\n        }\r\n    }, false);\r\n}\r\n;\r\n","/// <reference path='dapi.d.ts' />\r\nimport getFirstAncestor from './getFirstAncestor';\r\n/**\r\n * Activates dapi download for this node and all child nodes.\r\n * That is a tags with target attribute 'dapi_download' will trigger a dapi download.\r\n * @param node\r\n * @param dapi\r\n * @returns {}\r\n */\r\nexport default function activateDAPIDownload(node, dapi) {\r\n    node.addEventListener('click', (evt) => {\r\n        const isDapiAnchor = (element) => (element.tagName === 'A' && element.attributes['target'] != null &&\r\n            element.attributes['target'].value === 'dapi_download');\r\n        const dapiAnchor = isDapiAnchor(evt.target) ? evt.target\r\n            : getFirstAncestor(evt.target, (element) => {\r\n                return isDapiAnchor(element);\r\n            });\r\n        if (dapiAnchor == null)\r\n            return;\r\n        evt.preventDefault();\r\n        evt.stopPropagation();\r\n        if (dapiAnchor.attributes['href'] == null)\r\n            throw new Error(\"'href' attribute of anchor element must be set if target is 'dapi_download'\");\r\n        dapi.download(dapiAnchor.attributes['href'].value);\r\n    }, true);\r\n}\r\n","import getFirstAncestor from \"./getFirstAncestor\";\r\n/**\r\n * Activates dapi navigation for this node and all child nodes.\r\n * That is a tags with target attribute 'dapi_navigate' will trigger a dapi navigation.\r\n * @param node\r\n * @param dapi\r\n * @returns {}\r\n */\r\nexport default function activateDAPINavigation(node, dapi) {\r\n    node.addEventListener('click', (evt) => {\r\n        const isDapiAnchor = (element) => (element.tagName === 'A' && !!element.attributes['target'] && element.attributes['target'].value === 'dapi_navigate');\r\n        const dapiAnchor = isDapiAnchor(evt.target) ? evt.target\r\n            : getFirstAncestor(evt.target, (element) => {\r\n                return isDapiAnchor(element);\r\n            });\r\n        if (dapiAnchor == null)\r\n            return;\r\n        evt.preventDefault();\r\n        evt.stopPropagation();\r\n        if (dapiAnchor.attributes['href'] == null)\r\n            throw new Error(\"'href' attribute of anchor element must be set if target is 'dapi_navigate'\");\r\n        dapi.navigate(dapiAnchor.attributes['href'].value);\r\n    }, true);\r\n}\r\n","const version = \"2.15.0\";\r\nexport default version;\r\n","export default class DapiProxy {\r\n    constructor(dapi) {\r\n        this._dapi = dapi;\r\n    }\r\n    enableBypass() {\r\n        this._isBypassEnabled = true;\r\n    }\r\n    disableBypass() {\r\n        this._isBypassEnabled = false;\r\n    }\r\n    navigate(href) {\r\n        this._dapi.navigate(href);\r\n    }\r\n    openDialog(href, height, width, absoluteValues) {\r\n        this._dapi.openDialog(href, height, width, absoluteValues);\r\n    }\r\n    closeDialog() {\r\n        this._dapi.closeDialog();\r\n    }\r\n    download(href) {\r\n        this._dapi.download(href);\r\n    }\r\n    setContextActions(contextActions) {\r\n        if (this._isBypassEnabled) {\r\n            this._dapi.setContextActions(contextActions);\r\n        }\r\n    }\r\n    publishTitle(string) {\r\n        if (this._isBypassEnabled) {\r\n            this._dapi.publishTitle(string);\r\n        }\r\n    }\r\n    activateSingleResourceMode() {\r\n        if (this._isBypassEnabled) {\r\n            this._dapi.activateSingleResourceMode();\r\n        }\r\n    }\r\n    addResourceEventListener(eventName, callback) {\r\n        if (this._isBypassEnabled) {\r\n            this._dapi.addResourceEventListener(eventName, callback);\r\n        }\r\n    }\r\n    closeResourceIfMainResource() {\r\n        if (this._isBypassEnabled) {\r\n            this._dapi.closeResourceIfMainResource();\r\n        }\r\n    }\r\n    deactivateSingleResourceMode() {\r\n        if (this._isBypassEnabled) {\r\n            this._dapi.deactivateSingleResourceMode();\r\n        }\r\n    }\r\n    dispatchResourceEvent(event) {\r\n        if (this._isBypassEnabled) {\r\n            this._dapi.dispatchResourceEvent(event);\r\n        }\r\n    }\r\n    isMainResource() {\r\n        return this._dapi.isMainResource();\r\n    }\r\n    publishLocation(href) {\r\n        if (this._isBypassEnabled) {\r\n            this._dapi.publishLocation(href);\r\n        }\r\n    }\r\n    replaceState(state) {\r\n        if (this._isBypassEnabled) {\r\n            this._dapi.replaceState(state);\r\n        }\r\n    }\r\n    setClosable(isClosable) {\r\n        if (this._isBypassEnabled) {\r\n            this._dapi.setClosable(isClosable);\r\n        }\r\n    }\r\n    setInterruptNavigationCallback(callback) {\r\n        if (this._isBypassEnabled) {\r\n            this._dapi.setInterruptNavigationCallback(callback);\r\n        }\r\n    }\r\n    setResourceVisibilityChangedCallback(callback) {\r\n        if (this._isBypassEnabled) {\r\n            this._dapi.setResourceVisibilityChangedCallback(callback);\r\n        }\r\n    }\r\n}\r\n","/**\r\n * Events which relate to resources.\r\n */\r\nexport default class ResourceEvent {\r\n    /**\r\n     * Name of the event.\r\n     * - changed : the resource has been changed\r\n     * @returns {}\r\n     */\r\n    get name() { return this._name; }\r\n    /**\r\n     * Name of the event.\r\n     * - changed : the resource has been changed\r\n     * @returns {}\r\n     */\r\n    set name(value) {\r\n        this._name = value;\r\n    }\r\n    /**\r\n     * uri of affected resource.\r\n     * @returns {}\r\n     */\r\n    get uri() { return this._uri; }\r\n    /**\r\n     * uri of affected resource.\r\n     * @returns {}\r\n     */\r\n    set uri(value) {\r\n        this._uri = value;\r\n    }\r\n    constructor(name, uri) {\r\n        this._name = name;\r\n        this._uri = uri;\r\n    }\r\n}\r\n","/// <reference path='../../shell/scripts/IResourceEvent.ts' />\r\n/// <reference path='../../shell/scripts/IContextAction.ts' />\r\n/// <reference path='../../shell/scripts/Shell.d.ts' />\r\nimport ResourceEventClass from './ResourceEvent';\r\nimport DapiProxy from \"./DapiProxy\";\r\n/**\r\n * public api of the shell.\r\n */\r\nexport default class Dapi {\r\n    /**\r\n     *\r\n     * @param delegate Shell or Dapi\r\n     * @param toAbsoluteUri function which returns an absolute uri for the given uri interpreted as relative to the base uri (https://developers.whatwg.org/urls.html#base-urls)\r\n     * @param rootResourceId id of outemost resource\r\n     * @param isShell describs the type (Shell or Dapi) of the delegate parameter\r\n     * @returns {}\r\n     */\r\n    constructor(delegate, toAbsoluteUri, rootResourceId, isShell = true) {\r\n        // ReSharper disable once InconsistentNaming\r\n        // export ResourceEvent class to provide clients which don't consume the dapi as a module with the ability to use the ResourceEvent class for things like x instanceof dapi.ResourceEvent\r\n        this.ResourceEvent = ResourceEventClass;\r\n        if (!isShell) {\r\n            this._parentDapi = delegate;\r\n            if (!this._parentDapi._shell && !this._parentDapi.dapiProxy) {\r\n                console.warn('The embedding resource uses an obsolete d.api ( < v2.12.0).');\r\n            }\r\n        }\r\n        else {\r\n            this._shell = delegate;\r\n        }\r\n        this.dapiProxy = new DapiProxy(this);\r\n        this._toAbsoluteUri = toAbsoluteUri;\r\n        this._rootResourceId = rootResourceId;\r\n    }\r\n    /**\r\n     * Navigate to resource identified by href. The following values for href have a special meaning:\r\n     * - 'dapi_blank' replace the current main resource with an empty resource. That is show a blank page.\r\n     * @param href absolute or relative (cf. https://developers.whatwg.org/urls.html#base-urls) URI of target resource or 'dapi_blank'\r\n     * @returns {}\r\n     */\r\n    navigate(href) {\r\n        if (this._shell) {\r\n            this._shell.navigate(href === \"dapi_blank\" ? \"about:blank\" : href ? this._toAbsoluteUri(href) : href, this._rootResourceId);\r\n        }\r\n        else {\r\n            if (!!this._parentDapi.dapiProxy) {\r\n                this._parentDapi.dapiProxy.navigate(href);\r\n            }\r\n            else {\r\n                console.info('The embedding resource uses an obsolete d.api ( < v2.12.0).');\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Opens a global dialog with content referenced by href.\r\n     *  @param {string} href absolute or relative (cf. https://developers.whatwg.org/urls.html#base-urls) URI of dialog content\r\n     *  @param {number} height of the dialog (see also absoluteValues)\r\n     *  @param {number} width of the dialog (see also absoluteValues)\r\n     *  @param {boolean} [absoluteValues] set true if values for height and width are to be interpreted as absolute values, namely in pixel and not in percent\r\n     */\r\n    openDialog(href, height, width, absoluteValues) {\r\n        if (this._shell) {\r\n            this._shell.openDialog(href ? this._toAbsoluteUri(href) : href, height, width, absoluteValues, this._rootResourceId);\r\n        }\r\n        else {\r\n            if (!!this._parentDapi.dapiProxy) {\r\n                this._parentDapi.dapiProxy.openDialog(href, height, width, absoluteValues);\r\n            }\r\n            else {\r\n                console.info('The embedding resource uses an obsolete d.api ( < v2.12.0).');\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Closes the global dialog when it is open, otherwise nothing will happen.\r\n     */\r\n    closeDialog() {\r\n        if (this._shell) {\r\n            this._shell.closeDialog(this._rootResourceId);\r\n        }\r\n        else {\r\n            if (!!this._parentDapi.dapiProxy) {\r\n                this._parentDapi.dapiProxy.closeDialog();\r\n            }\r\n            else {\r\n                console.info('The embedding resource uses an obsolete d.api ( < v2.12.0).');\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Downloads the referenced file.\r\n     * @param href absolute or relative (cf. https://developers.whatwg.org/urls.html#base-urls) download URI\r\n     * @returns {}\r\n     */\r\n    download(href) {\r\n        if (this._shell) {\r\n            this._shell.download(href ? this._toAbsoluteUri(href) : href, this._rootResourceId);\r\n        }\r\n        else {\r\n            if (!!this._parentDapi.dapiProxy) {\r\n                this._parentDapi.dapiProxy.download(href);\r\n            }\r\n            else {\r\n                console.info('The embedding resource uses an obsolete d.api ( < v2.12.0).');\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Replace the state of the resource.\r\n     * @param replaceUri\r\n     * @returns {}\r\n     */\r\n    replaceState(replaceUri) {\r\n        if (this._shell) {\r\n            this._shell.replaceState(this._toAbsoluteUri(replaceUri), this._rootResourceId);\r\n        }\r\n        else {\r\n            if (!!this._parentDapi.dapiProxy) {\r\n                this._parentDapi.dapiProxy.replaceState(replaceUri);\r\n            }\r\n            else {\r\n                console.info('The embedding resource uses an obsolete d.api ( < v2.12.0).');\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Publishes actions and resources which are available in the current context/state of this resource.\r\n     * Note: The URIs inside the contextActions elements can be absolute or relative to document base uri (cf. https://developers.whatwg.org/urls.html#base-urls)\r\n     * @param contextActions Array of IContextAction\r\n     * @returns {}\r\n     */\r\n    setContextActions(contextActions) {\r\n        if (this._shell) {\r\n            this._shell.setContextActions(contextActions ? this.convertToContextActionsWithAbsoluteUri(contextActions) : contextActions, this._rootResourceId);\r\n        }\r\n        else {\r\n            if (!!this._parentDapi.dapiProxy) {\r\n                this._parentDapi.dapiProxy.setContextActions(contextActions);\r\n            }\r\n            else {\r\n                console.info('The embedding resource uses an obsolete d.api ( < v2.12.0).');\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Publishes the title of this resource to the shell.\r\n     * @param title\r\n     * @returns {}\r\n     */\r\n    publishTitle(title) {\r\n        if (this._shell) {\r\n            this._shell.publishTitle(title, this._rootResourceId);\r\n        }\r\n        else {\r\n            if (!!this._parentDapi.dapiProxy) {\r\n                this._parentDapi.dapiProxy.publishTitle(title);\r\n            }\r\n            else {\r\n                console.info('The embedding resource uses an obsolete d.api ( < v2.12.0).');\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Publishes the location of this resource to the shell.\r\n     * @param uri current location of this resource\r\n     * @returns {}\r\n     */\r\n    publishLocation(uri) {\r\n        if (this._shell) {\r\n            this._shell.publishLocation(uri, this._rootResourceId);\r\n        }\r\n        else {\r\n            if (!!this._parentDapi.dapiProxy) {\r\n                this._parentDapi.dapiProxy.publishLocation(uri);\r\n            }\r\n            else {\r\n                console.info('The embedding resource uses an obsolete d.api ( < v2.12.0).');\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Returns true if this resource is current main resource.\r\n     * @returns {}\r\n     */\r\n    isMainResource() {\r\n        if (this._shell) {\r\n            return this._shell.isMainResource(this._rootResourceId);\r\n        }\r\n        else {\r\n            if (!!this._parentDapi.dapiProxy) {\r\n                return this._parentDapi.dapiProxy.isMainResource();\r\n            }\r\n            else {\r\n                console.info('The embedding resource uses an obsolete d.api ( < v2.12.0).');\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @param callback will be called if resource should be closed or refreshed\r\n     * @deprecated please use setClosable(isClosable: boolean): void; and setInterruptNavigationCallback(callback: (finishNavigation: () => void) => void, originatorId: Object): void; instead\r\n     */\r\n    setInterruptCloseCallback(callback) {\r\n        if (this._shell) {\r\n            console.warn(\"setInterruptCloseCallback() is deprecated! Please use setClosable() and setInterruptNavigationCallback() instead.\\n\" +\r\n                \"setInterruptCloseCallback() will be removed with the next major release.\");\r\n            this._shell.setInterruptCloseCallback(callback, this._rootResourceId);\r\n        }\r\n        else {\r\n            console.warn(\"setInterruptCloseCallback() is deprecated! Please use setClosable() and setInterruptNavigationCallback() instead.\\n\" +\r\n                \"setInterruptCloseCallback() will be removed with the next major release.\");\r\n        }\r\n    }\r\n    /**\r\n     * If resource must not be close set call it with false.\r\n     * Note: To interrupt the navigation it is necessary to register an interruptNavigationCallback.\r\n     * Please use setInterruptNavigationCallback(callback: (finishNavigation: () => void) => void, originatorId: Object): void\r\n     * NOT setInterruptCloseCallback(callback: () => boolean, originatorId: Object): void\r\n     * @param isClosable\r\n     */\r\n    setClosable(isClosable) {\r\n        if (this._shell) {\r\n            this._shell.setClosable(isClosable, this._rootResourceId);\r\n        }\r\n        else {\r\n            if (!!this._parentDapi.dapiProxy) {\r\n                this._parentDapi.dapiProxy.setClosable(isClosable);\r\n            }\r\n            else {\r\n                console.info('The embedding resource uses an obsolete d.api ( < v2.12.0).');\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * The registered callback will be invoked if resource is not closable. The initial navigation could be finish by\r\n     * invoking the 'finishNavigation' callback.\r\n     * @param callback\r\n     */\r\n    setInterruptNavigationCallback(callback) {\r\n        if (this._shell) {\r\n            this._shell.setInterruptNavigationCallback(callback, this._rootResourceId);\r\n        }\r\n        else {\r\n            if (!!this._parentDapi.dapiProxy) {\r\n                this._parentDapi.dapiProxy.setInterruptNavigationCallback(callback);\r\n            }\r\n            else {\r\n                console.info('The embedding resource uses an obsolete d.api ( < v2.12.0).');\r\n            }\r\n        }\r\n    }\r\n    convertToContextActionsWithAbsoluteUri(contextActions) {\r\n        const absContextActions = new Array();\r\n        for (let i = 0; i < contextActions.length; i++) {\r\n            const contextAction = contextActions[i];\r\n            absContextActions.push({\r\n                href: contextAction.href ? this._toAbsoluteUri(contextAction.href) : contextAction.href,\r\n                callback: contextAction.callback,\r\n                callbackName: contextAction.callbackName,\r\n                callbackArgs: contextAction.callbackArgs,\r\n                title: contextAction.title,\r\n                icon: contextAction.icon ? this._toAbsoluteUri(contextAction.icon) : contextAction.icon\r\n            });\r\n        }\r\n        return absContextActions;\r\n    }\r\n    /**\r\n     * Dispatch an event to all registered listeners.\r\n     * @param event\r\n     * @returns {}\r\n     */\r\n    dispatchResourceEvent(event) {\r\n        if (this._shell) {\r\n            this._shell.dispatchResourceEvent(event, this._rootResourceId);\r\n        }\r\n        else {\r\n            if (!!this._parentDapi.dapiProxy) {\r\n                this._parentDapi.dapiProxy.dispatchResourceEvent(event);\r\n            }\r\n            else {\r\n                console.info('The embedding resource uses an obsolete d.api ( < v2.12.0).');\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Listen to events of type eventName\r\n     * @param eventName\r\n     * @param callback\r\n     * @returns {}\r\n     */\r\n    addResourceEventListener(eventName, callback) {\r\n        if (this._shell) {\r\n            this._shell.addResourceEventListener(eventName, callback, this._rootResourceId);\r\n        }\r\n        else {\r\n            if (!!this._parentDapi.dapiProxy) {\r\n                this._parentDapi.dapiProxy.addResourceEventListener(eventName, callback);\r\n            }\r\n            else {\r\n                console.info('The embedding resource uses an obsolete d.api ( < v2.12.0).');\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Activates single resource mode.\r\n     * In single resource mode the shell displays only one resource which gets the maximum amount of space.\r\n     */\r\n    activateSingleResourceMode() {\r\n        if (this._shell) {\r\n            this._shell.activateSingleResourceMode(this._rootResourceId);\r\n        }\r\n        else {\r\n            if (!!this._parentDapi.dapiProxy) {\r\n                this._parentDapi.dapiProxy.activateSingleResourceMode();\r\n            }\r\n            else {\r\n                console.info('The embedding resource uses an obsolete d.api ( < v2.12.0).');\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Deactivates single resource mode.\r\n     * In single resource mode the shell displays only one resource which gets the maximum amount of space.\r\n     */\r\n    deactivateSingleResourceMode() {\r\n        if (this._shell) {\r\n            this._shell.deactivateSingleResourceMode(this._rootResourceId);\r\n        }\r\n        else {\r\n            if (!!this._parentDapi.dapiProxy) {\r\n                this._parentDapi.dapiProxy.deactivateSingleResourceMode();\r\n            }\r\n            else {\r\n                console.info('The embedding resource uses an obsolete d.api ( < v2.12.0).');\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     *  Closes the mainresource if it is called from the mainresource\r\n     */\r\n    closeResourceIfMainResource() {\r\n        if (this._shell) {\r\n            // TODO prüfem, ob der Check überflüssig ist\r\n            if (!this.isMainResource())\r\n                return;\r\n            this._shell.closeMainResource(this._rootResourceId);\r\n        }\r\n        else {\r\n            if (!!this._parentDapi.dapiProxy) {\r\n                this._parentDapi.dapiProxy.closeResourceIfMainResource();\r\n            }\r\n            else {\r\n                console.info('The embedding resource uses an obsolete d.api ( < v2.12.0).');\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * The registered callback will be invoked after the resource has been displayed or hidden.\r\n     * @param callback\r\n     */\r\n    setResourceVisibilityChangedCallback(callback) {\r\n        if (this._shell) {\r\n            this._shell.setResourceVisibilityChangedCallback(callback, this._rootResourceId);\r\n        }\r\n        else {\r\n            if (!!this._parentDapi.dapiProxy) {\r\n                this._parentDapi.dapiProxy.setResourceVisibilityChangedCallback(callback);\r\n            }\r\n            else {\r\n                console.info('The embedding resource uses an obsolete d.api ( < v2.12.0).');\r\n            }\r\n        }\r\n    }\r\n}\r\n","/**\r\n * Retrieves the outer resource to which currentWindow belongs or null if the shell is not loaded.\r\n * @param currentWindow\r\n */\r\nexport default function getRootResourceWindow(currentWindow) {\r\n    let win = currentWindow;\r\n    while (win.parent !== win) {\r\n        try {\r\n            if (typeof win.parent.shell !== 'undefined' || typeof win.parent.dapi !== 'undefined') {\r\n                return win;\r\n            }\r\n        }\r\n        catch (error) {\r\n            // Chrome and FF throw an error while accessing 'shell' property if parent window has a different origin cf. https://jira.d-velop.de/browse/SA-86\r\n            break;\r\n        }\r\n        win = win.parent;\r\n    }\r\n    return null;\r\n}\r\n","import getRootResourceWindow from \"./getRootResourceWindow\";\r\nimport Dapi from \"./Dapi\";\r\nimport version from \"./version\";\r\nimport activateDAPINavigation from \"./activateDAPINavigation\";\r\nimport activateDAPIDownload from \"./activateDAPIDownload\";\r\nimport triggerReplaceStateIfAnchorClicked from \"./triggerReplaceStateIfAnchorClicked\";\r\nimport publishContextActions from \"./publishContextActions\";\r\nimport publishAndObserveTitle from \"./publishAndObserveTitle\";\r\nimport observeLocation from \"./observeLocation\";\r\nimport redirectToShell from \"./redirectToShell\";\r\n/**\r\n * This file bootstraps the d.velop api (dapi)\r\n */\r\nif (typeof window.dapi === 'undefined') {\r\n    const rootResourceWindow = getRootResourceWindow(window);\r\n    if (rootResourceWindow != null) {\r\n        let shellDelegate = rootResourceWindow.parent.shell;\r\n        let dapiDelegate = rootResourceWindow.parent.dapi;\r\n        let dapi;\r\n        if (!!shellDelegate) {\r\n            dapi = new Dapi(shellDelegate, toAbsoluteUri, window);\r\n        }\r\n        else if (!!dapiDelegate) {\r\n            dapi = new Dapi(dapiDelegate, toAbsoluteUri, window, false);\r\n        }\r\n        if (shellDelegate) {\r\n            shellDelegate.addUsingResource(window.document.location.href, version);\r\n        }\r\n        activateDAPINavigation(window.document, dapi);\r\n        activateDAPIDownload(window.document, dapi);\r\n        triggerReplaceStateIfAnchorClicked(rootResourceWindow.document, dapi);\r\n        if (window === rootResourceWindow) {\r\n            publishContextActions(window.document.head, dapi);\r\n            publishAndObserveTitle(window.document.querySelector('title'), dapi);\r\n            observeLocation(window, dapi);\r\n        }\r\n        window.dapi = dapi;\r\n        window.Dapi = Dapi;\r\n        window.dapiProxy = dapi.dapiProxy;\r\n    }\r\n    else {\r\n        redirectToShell(window);\r\n    }\r\n}\r\nfunction toAbsoluteUri(uri) {\r\n    const anchorElement = document.createElement('a');\r\n    anchorElement.href = uri; // now href is an absolute uri.\r\n    return anchorElement.href;\r\n}\r\n"],"sourceRoot":""}