!function(e){var t={};function i(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},i.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=14)}([function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,i){if(!t.parentElement)return null;if(i(t.parentElement))return t.parentElement;return e(t.parentElement,i)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t="".concat(e.location.protocol,"//").concat(e.location.host);e.location.href=t+"/shell/#"+encodeURIComponent((i=e.location,i.pathname+(i.search?i.search:"")+(i.hash?i.hash:"")));var i}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.addEventListener("hashchange",function(){t.publishLocation(e.location.href)})}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e&&(new MutationObserver(function(i){i.forEach(function(i){i.target.textContent&&""!==i.target.textContent.trim()?t.publishTitle(i.target.textContent.trim()):e.innerText&&""!==e.innerText.trim()?t.publishTitle(e.innerText.trim()):t.publishTitle(window.document.title.trim())})}).observe(e,{childList:!0}),e.innerText&&""!==e.innerText.trim()?t.publishTitle(e.innerText.trim()):t.publishTitle(window.document.title.trim()))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var i=e.querySelectorAll("link[rel='ctxaction']"),a=[],n=0;n<i.length;n++)a.push({href:i[n].attributes.href?i[n].attributes.href.value:void 0,title:i[n].attributes.title?i[n].attributes.title.value:void 0,icon:i[n].attributes["data-icon"]?i[n].attributes["data-icon"].value:void 0});a.length>0&&t.setContextActions(a)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.addEventListener("click",function(e){var i=function(e){return"A"===e.tagName&&(null==e.attributes.target||null!=e.attributes.target&&"dapi_navigate"!==e.attributes.target.value&&"dapi_blank"!==e.attributes.target.value&&"_blank"!==e.attributes.target.value)},a=i(e.target)?e.target:(0,n.default)(e.target,function(e){return i(e)});if(null!=a&&null!=a.attributes.href){var o=a.attributes.href.value;e.defaultPrevented||t.replaceState(o)}},!1)};var a,n=(a=i(0))&&a.__esModule?a:{default:a}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.addEventListener("click",function(e){var i=function(e){return"A"===e.tagName&&null!=e.attributes.target&&"dapi_download"===e.attributes.target.value},a=i(e.target)?e.target:(0,n.default)(e.target,function(e){return i(e)});if(null!=a){if(e.preventDefault(),e.stopPropagation(),null==a.attributes.href)throw new Error("'href' attribute of anchor element must be set if target is 'dapi_download'");t.download(a.attributes.href.value)}},!0)};var a,n=(a=i(0))&&a.__esModule?a:{default:a}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.addEventListener("click",function(e){var i=function(e){return"A"===e.tagName&&!!e.attributes.target&&"dapi_navigate"===e.attributes.target.value},a=i(e.target)?e.target:(0,n.default)(e.target,function(e){return i(e)});if(null!=a){if(e.preventDefault(),e.stopPropagation(),null==a.attributes.href)throw new Error("'href' attribute of anchor element must be set if target is 'dapi_navigate'");t.navigate(a.attributes.href.value)}},!0)};var a,n=(a=i(0))&&a.__esModule?a:{default:a}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default="2.15.0"},function(e,t,i){"use strict";function a(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._dapi=t}var t,i,n;return t=e,(i=[{key:"enableBypass",value:function(){this._isBypassEnabled=!0}},{key:"disableBypass",value:function(){this._isBypassEnabled=!1}},{key:"navigate",value:function(e){this._dapi.navigate(e)}},{key:"openDialog",value:function(e,t,i,a){this._dapi.openDialog(e,t,i,a)}},{key:"closeDialog",value:function(){this._dapi.closeDialog()}},{key:"download",value:function(e){this._dapi.download(e)}},{key:"setContextActions",value:function(e){this._isBypassEnabled&&this._dapi.setContextActions(e)}},{key:"publishTitle",value:function(e){this._isBypassEnabled&&this._dapi.publishTitle(e)}},{key:"activateSingleResourceMode",value:function(){this._isBypassEnabled&&this._dapi.activateSingleResourceMode()}},{key:"addResourceEventListener",value:function(e,t){this._isBypassEnabled&&this._dapi.addResourceEventListener(e,t)}},{key:"closeResourceIfMainResource",value:function(){this._isBypassEnabled&&this._dapi.closeResourceIfMainResource()}},{key:"deactivateSingleResourceMode",value:function(){this._isBypassEnabled&&this._dapi.deactivateSingleResourceMode()}},{key:"dispatchResourceEvent",value:function(e){this._isBypassEnabled&&this._dapi.dispatchResourceEvent(e)}},{key:"isMainResource",value:function(){return this._dapi.isMainResource()}},{key:"publishLocation",value:function(e){this._isBypassEnabled&&this._dapi.publishLocation(e)}},{key:"replaceState",value:function(e){this._isBypassEnabled&&this._dapi.replaceState(e)}},{key:"setClosable",value:function(e){this._isBypassEnabled&&this._dapi.setClosable(e)}},{key:"setInterruptNavigationCallback",value:function(e){this._isBypassEnabled&&this._dapi.setInterruptNavigationCallback(e)}},{key:"setResourceVisibilityChangedCallback",value:function(e){this._isBypassEnabled&&this._dapi.setResourceVisibilityChangedCallback(e)}}])&&a(t.prototype,i),n&&a(t,n),e}();t.default=n},function(e,t,i){"use strict";function a(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(){var e,t,i;function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._name=e,this._uri=t}return e=n,(t=[{key:"name",get:function(){return this._name},set:function(e){this._name=e}},{key:"uri",get:function(){return this._uri},set:function(e){this._uri=e}}])&&a(e.prototype,t),i&&a(e,i),n}();t.default=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(i(10)),n=o(i(9));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var r=function(){function e(t,i,o){var s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ResourceEvent=a.default,s?this._shell=t:(this._parentDapi=t,this._parentDapi._shell||this._parentDapi.dapiProxy||console.warn("The embedding resource uses an obsolete d.api ( < v2.12.0).")),this.dapiProxy=new n.default(this),this._toAbsoluteUri=i,this._rootResourceId=o}var t,i,o;return t=e,(i=[{key:"navigate",value:function(e){this._shell?this._shell.navigate("dapi_blank"===e?"about:blank":e?this._toAbsoluteUri(e):e,this._rootResourceId):this._parentDapi.dapiProxy?this._parentDapi.dapiProxy.navigate(e):console.info("The embedding resource uses an obsolete d.api ( < v2.12.0).")}},{key:"openDialog",value:function(e,t,i,a){this._shell?this._shell.openDialog(e?this._toAbsoluteUri(e):e,t,i,a,this._rootResourceId):this._parentDapi.dapiProxy?this._parentDapi.dapiProxy.openDialog(e,t,i,a):console.info("The embedding resource uses an obsolete d.api ( < v2.12.0).")}},{key:"closeDialog",value:function(){this._shell?this._shell.closeDialog(this._rootResourceId):this._parentDapi.dapiProxy?this._parentDapi.dapiProxy.closeDialog():console.info("The embedding resource uses an obsolete d.api ( < v2.12.0).")}},{key:"download",value:function(e){this._shell?this._shell.download(e?this._toAbsoluteUri(e):e,this._rootResourceId):this._parentDapi.dapiProxy?this._parentDapi.dapiProxy.download(e):console.info("The embedding resource uses an obsolete d.api ( < v2.12.0).")}},{key:"replaceState",value:function(e){this._shell?this._shell.replaceState(this._toAbsoluteUri(e),this._rootResourceId):this._parentDapi.dapiProxy?this._parentDapi.dapiProxy.replaceState(e):console.info("The embedding resource uses an obsolete d.api ( < v2.12.0).")}},{key:"setContextActions",value:function(e){this._shell?this._shell.setContextActions(e?this.convertToContextActionsWithAbsoluteUri(e):e,this._rootResourceId):this._parentDapi.dapiProxy?this._parentDapi.dapiProxy.setContextActions(e):console.info("The embedding resource uses an obsolete d.api ( < v2.12.0).")}},{key:"publishTitle",value:function(e){this._shell?this._shell.publishTitle(e,this._rootResourceId):this._parentDapi.dapiProxy?this._parentDapi.dapiProxy.publishTitle(e):console.info("The embedding resource uses an obsolete d.api ( < v2.12.0).")}},{key:"publishLocation",value:function(e){this._shell?this._shell.publishLocation(e,this._rootResourceId):this._parentDapi.dapiProxy?this._parentDapi.dapiProxy.publishLocation(e):console.info("The embedding resource uses an obsolete d.api ( < v2.12.0).")}},{key:"isMainResource",value:function(){return this._shell?this._shell.isMainResource(this._rootResourceId):this._parentDapi.dapiProxy?this._parentDapi.dapiProxy.isMainResource():(console.info("The embedding resource uses an obsolete d.api ( < v2.12.0)."),!1)}},{key:"setInterruptCloseCallback",value:function(e){this._shell?(console.warn("setInterruptCloseCallback() is deprecated! Please use setClosable() and setInterruptNavigationCallback() instead.\nsetInterruptCloseCallback() will be removed with the next major release."),this._shell.setInterruptCloseCallback(e,this._rootResourceId)):console.warn("setInterruptCloseCallback() is deprecated! Please use setClosable() and setInterruptNavigationCallback() instead.\nsetInterruptCloseCallback() will be removed with the next major release.")}},{key:"setClosable",value:function(e){this._shell?this._shell.setClosable(e,this._rootResourceId):this._parentDapi.dapiProxy?this._parentDapi.dapiProxy.setClosable(e):console.info("The embedding resource uses an obsolete d.api ( < v2.12.0).")}},{key:"setInterruptNavigationCallback",value:function(e){this._shell?this._shell.setInterruptNavigationCallback(e,this._rootResourceId):this._parentDapi.dapiProxy?this._parentDapi.dapiProxy.setInterruptNavigationCallback(e):console.info("The embedding resource uses an obsolete d.api ( < v2.12.0).")}},{key:"convertToContextActionsWithAbsoluteUri",value:function(e){for(var t=new Array,i=0;i<e.length;i++){var a=e[i];t.push({href:a.href?this._toAbsoluteUri(a.href):a.href,callback:a.callback,callbackName:a.callbackName,callbackArgs:a.callbackArgs,title:a.title,icon:a.icon?this._toAbsoluteUri(a.icon):a.icon})}return t}},{key:"dispatchResourceEvent",value:function(e){this._shell?this._shell.dispatchResourceEvent(e,this._rootResourceId):this._parentDapi.dapiProxy?this._parentDapi.dapiProxy.dispatchResourceEvent(e):console.info("The embedding resource uses an obsolete d.api ( < v2.12.0).")}},{key:"addResourceEventListener",value:function(e,t){this._shell?this._shell.addResourceEventListener(e,t,this._rootResourceId):this._parentDapi.dapiProxy?this._parentDapi.dapiProxy.addResourceEventListener(e,t):console.info("The embedding resource uses an obsolete d.api ( < v2.12.0).")}},{key:"activateSingleResourceMode",value:function(){this._shell?this._shell.activateSingleResourceMode(this._rootResourceId):this._parentDapi.dapiProxy?this._parentDapi.dapiProxy.activateSingleResourceMode():console.info("The embedding resource uses an obsolete d.api ( < v2.12.0).")}},{key:"deactivateSingleResourceMode",value:function(){this._shell?this._shell.deactivateSingleResourceMode(this._rootResourceId):this._parentDapi.dapiProxy?this._parentDapi.dapiProxy.deactivateSingleResourceMode():console.info("The embedding resource uses an obsolete d.api ( < v2.12.0).")}},{key:"closeResourceIfMainResource",value:function(){if(this._shell){if(!this.isMainResource())return;this._shell.closeMainResource(this._rootResourceId)}else this._parentDapi.dapiProxy?this._parentDapi.dapiProxy.closeResourceIfMainResource():console.info("The embedding resource uses an obsolete d.api ( < v2.12.0).")}},{key:"setResourceVisibilityChangedCallback",value:function(e){this._shell?this._shell.setResourceVisibilityChangedCallback(e,this._rootResourceId):this._parentDapi.dapiProxy?this._parentDapi.dapiProxy.setResourceVisibilityChangedCallback(e):console.info("The embedding resource uses an obsolete d.api ( < v2.12.0).")}}])&&s(t.prototype,i),o&&s(t,o),e}();t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e;for(;t.parent!==t;){try{if(void 0!==t.parent.shell||void 0!==t.parent.dapi)return t}catch(e){break}t=t.parent}return null}},function(e,t,i){"use strict";var a=p(i(12)),n=p(i(11)),o=p(i(8)),s=p(i(7)),r=p(i(6)),l=p(i(5)),u=p(i(4)),c=p(i(3)),d=p(i(2)),h=p(i(1));function p(e){return e&&e.__esModule?e:{default:e}}if(void 0===window.dapi){var f=(0,a.default)(window);if(null!=f){var _,b=f.parent.shell,v=f.parent.dapi;b?_=new n.default(b,y,window):v&&(_=new n.default(v,y,window,!1)),b&&b.addUsingResource(window.document.location.href,o.default),(0,s.default)(window.document,_),(0,r.default)(window.document,_),(0,l.default)(f.document,_),window===f&&((0,u.default)(window.document.head,_),(0,c.default)(window.document.querySelector("title"),_),(0,d.default)(window,_)),window.dapi=_,window.Dapi=n.default,window.dapiProxy=_.dapiProxy}else(0,h.default)(window)}function y(e){var t=document.createElement("a");return t.href=e,t.href}},function(e,t,i){e.exports=i(13)}]);
//# sourceMappingURL=dapi.js.map